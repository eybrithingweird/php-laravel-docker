import{r as l,u as f,j as e,C as F}from"./app-DLpcm0V-.js";import{C,H as O}from"./ComboboxMain-C4nOrFEA.js";const D=()=>{const[n,d]=l.useState("Start typing or select request type..."),[i,h]=l.useState(""),{requestTypes:c,isFetchingReq:o,selectedRequestType:x,setSelectedRequestType:m,channels:u,isFetchingChan:g,selectedChannels:w,setSelectedChannels:b,definition:t,setDefinition:s,selectedOpt:p,setSelectedOpt:a}=f();l.useEffect(()=>{if(p!=""){const r=c.filter(N=>N.reqtype===p);s(r[0].definition)}},[p]);const y=i===""?c:c.filter(r=>r.reqtype.toLowerCase().includes(i.toLowerCase())||r.reqtype.toLowerCase().includes("other"));return e.jsx(e.Fragment,{children:o?e.jsx("div",{className:"relative",children:e.jsx("div",{className:"form-control disabled text-gray-400",children:"Loading..."})}):e.jsx(C,{type:"requesttype",filteredOptions:y,selectedOption:n,setSelectedOption:d,query:i,setQuery:h,setSelectedRequestType:m,setSelectedOffice:null,setSelectedDesignation:null,setSelectedEmployee:null})})},L=()=>{const{definition:n,setDefinition:d,selectedOpt:i,setSelectedOpt:h}=f();return e.jsxs("table",{className:"table table-bordered",id:"description",children:[e.jsx("thead",{children:e.jsx("tr",{className:"active",children:e.jsx("th",{children:"Definition"})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{children:e.jsx("textarea",{disabled:!0,id:"definition",name:"definition",rows:"12",className:"block p-2.5 w-full form-control disabled:bg-white disabled:text-black rounded-lg",value:n===""?"Select a request type to read the definition.":n})})})})]})},_=()=>{const{employees:n,isFetchingEmp:d,selectedEmployee:i,setSelectedEmployee:h,offices:c,isFetchingOff:o,selectedOffice:x,setSelectedOffice:m,designations:u,isFetchingDes:g,selectedDesignation:w,setSelectedDesignation:b,filteredDesignations:t,setFilteredDesignations:s,channels:p,isFetchingChan:a,selectedChannels:y,setSelectedChannels:r}=f(),[N,S]=l.useState(d?"Start typing or select an employee...":"Loading..."),[j,q]=l.useState(""),k=j===""?n:n.filter(v=>v.last_name.toLowerCase().includes(j.toLowerCase())||v.first_name.toLowerCase().includes(j.toLowerCase()));return l.useEffect(()=>{i!==""&&S(i)},[i]),e.jsx(e.Fragment,{children:d?e.jsx("div",{className:"relative",children:e.jsx("div",{className:"form-control disabled text-gray-400",children:"Loading..."})}):e.jsx(O,{disabled:!0,children:e.jsx(C,{type:"employee",filteredOptions:k,selectedOption:N,setSelectedOption:S,setSelectedOpt:null,query:j,setQuery:q,setSelectedOffice:null,setSelectedDesignation:null,setSelectedEmployee:h})})})},T=()=>{const{allFields:n,isFetchingAllFields:d,requestFields:i,isFetchingReqFields:h,requestTypes:c,selectedRequestType:o}=f(),[x,m]=l.useState({}),[u,g]=l.useState({}),[w,b]=l.useState();return l.useEffect(()=>{if(o!=""){b();const t=c.find(s=>s.reqtype===o);m(t)}},[o]),l.useEffect(()=>{if(x!={}&&x!=null){const t=x.id,s=i.filter(a=>a.request_type_id===t),p=n.filter(a=>{if(s.filter(r=>r.all_field_id===a.id).length>0)return{field:a.field,field_type:a.field_type}});g(p)}},[x]),u.length>0&&u.map(t=>e.jsxs("tr",{id:`${t.field.split(" ")[0].toLowerCase()}`,children:[e.jsxs("td",{className:"warning",children:[" ",t.field,e.jsx("span",{className:"text-danger text-3xl",children:"*"})]}),e.jsx("td",{children:e.jsx("span",{className:"flex space-x-1",children:t.field_type==="text"?e.jsx("input",{type:"text",name:`${t.field.split(" ")[0].toLowerCase()}`,id:`${t.field.split(" ")[0].toLowerCase()}`,className:"form-control",placeholder:`${t.field.split(" ").length>3?t.field.split(" ")[0]+" "+t.field.split(" ")[1]+" "+t.field.split(" ")[2]+"...":t.field}`}):t.field_type==="file"?e.jsx("input",{type:"file",name:`${t.field}`,id:`${t.field}`}):t.field_type==="radio"?t.field_options.map(s=>e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"grid place-items-center",children:[e.jsx("input",{type:"radio",className:"col-start-1 row-start-1 peer shrink-0 !m-0 appearance-none w-5 h-5 border-[1px] border-black rounded-full cursor-pointer",name:`${t.field}`,id:`${s}`}),e.jsx("div",{className:"col-start-1 row-start-1 absolute w-3 h-3 rounded-full peer-checked:bg-green-700 transition-all pointer-events-none"})]}),e.jsxs("label",{htmlFor:`${s}`,className:"font-normal cursor-pointer pr-4 !mb-0 !pb-0",children:[" ",`${s}`," "]})]})):t.field_options.map(s=>e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"grid place-items-center",children:[e.jsx("input",{type:"checkbox",className:"z-10 col-start-1 row-start-1 relative !mt-0 peer flex shrink-0 appearance-none w-5 h-5 border-[1px] border-black rounded bg-transparent checked:bg-cyan-700 cursor-pointer",name:`${t.field}`,id:`${s}`}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white",className:"z-20 col-start-1 row-start-1 size-6 opacity-0 peer-checked:opacity-100 pointer-events-none",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})]}),e.jsxs("label",{htmlFor:`${s}`,className:"!mb-0 font-normal pr-6 cursor-pointer",children:[" ",`${s}`," "]})]}))})})]}))};function R(){const n=document.getElementById("container").getAttribute("token");return e.jsx(e.Fragment,{children:e.jsxs(F,{children:[e.jsx("section",{className:"content-header pt-24",children:e.jsx("h1",{children:"Create Letter Request"})}),e.jsx("section",{className:"content",children:e.jsxs("div",{className:"box box-default",children:[e.jsxs("div",{className:"box-header with-border",children:[e.jsx("h3",{className:"box-title",children:"New Letter Request"}),e.jsx("span",{className:"pull-right",children:e.jsxs("button",{name:"backBtn",className:"btn btn-default",children:[e.jsx("i",{className:"fa fa-arrow-left"})," Back"]})})]}),e.jsx("div",{className:"box-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-9",children:e.jsxs("form",{method:"POST",action:"",encType:"multipart/form-data",children:[e.jsx("input",{type:"hidden",name:"_token",value:n}),e.jsxs("table",{className:"table table-bordered",id:"type",encType:"multipart/form-data",children:[e.jsx("thead",{children:e.jsx("tr",{className:"active",children:e.jsxs("th",{colSpan:"2",children:["Please fill-in appropriate information. Required fields are marked as ",e.jsx("span",{className:"text-danger text-3xl",children:"*"})]})})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{width:"30%",className:"warning",children:["Request For ",e.jsx("span",{className:"text-danger text-3xl",children:"*"})]}),e.jsx("td",{children:e.jsx(D,{})})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"warning",children:["To ",e.jsx("span",{className:"text-danger text-3xl",children:"*"})]}),e.jsx("td",{children:e.jsx(_,{})})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"warning",children:["Thru Channel ",e.jsx("span",{className:"text-danger text-3xl",children:"*"})]}),e.jsxs("td",{children:[e.jsxs("div",{className:"input-group w-full grid grid-cols-12 gap-2",children:[e.jsx("input",{type:"text",name:"thrufullname",id:"thrufullname",className:"col-span-5 form-control",autoComplete:"off",value:"",placeholder:"Employee name",disabled:!0}),e.jsx("input",{type:"text",name:"designation",id:"designation",className:"col-span-5 form-control",autoComplete:"off",value:"",placeholder:"Designation/Office Address",disabled:!0}),e.jsx("span",{className:"input-group-btn",children:e.jsx("button",{className:"add_field_button btn btn-success btn-flat",type:"button",children:"Add"})})]}),e.jsx("div",{className:"thrusuggesstion-box",name:"thrusuggesstion-box",id:"thrusuggetion-box"})]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"warning",children:[" SUBJECT",e.jsx("small",{children:"(Summary of Request)"}),e.jsx("span",{className:"text-danger text-3xl",children:"*"})]}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"subject",id:"subject",className:"form-control",value:"",placeholder:"Subject"})})]}),e.jsx(T,{}),e.jsxs("tr",{children:[e.jsx("td",{className:"warning",children:" Additional Notes / Other Details "}),e.jsx("td",{children:e.jsx("input",{type:"text",name:"notes",id:"notes",className:"form-control",placeholder:"Additional Notes"})})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"warning",children:[" Other Supporting Documents",e.jsx("br",{})," ",e.jsx("small",{children:"(Upload it in a Google Drive and paste the link on the field)"}),e.jsx("br",{})," ",e.jsx("small",{className:"text-danger",children:"[Make sure that the link is accessible]"})]}),e.jsx("td",{children:e.jsx("input",{type:"url",name:"link",id:"link",className:"form-control",placeholder:"http://drive.google.com...."})})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{children:e.jsx("button",{name:"btnSave",type:"submit",className:"btn btn-default",children:"Save"})})]})]})]})]})}),e.jsx("div",{className:"col-lg-3",children:e.jsx(L,{})})]})})]})})]})})}export{R as default};
